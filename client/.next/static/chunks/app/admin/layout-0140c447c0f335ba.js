(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[581],{63:(e,t,a)=>{"use strict";var l=a(7260);a.o(l,"useParams")&&a.d(t,{useParams:function(){return l.useParams}}),a.o(l,"usePathname")&&a.d(t,{usePathname:function(){return l.usePathname}}),a.o(l,"useRouter")&&a.d(t,{useRouter:function(){return l.useRouter}})},508:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(1847).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1091:(e,t,a)=>{"use strict";a.d(t,{X:()=>i,z:()=>n});var l=a(5155),s=a(2115);let r=(0,s.createContext)(void 0),n=()=>{let e=(0,s.useContext)(r);if(void 0===e)throw Error("useAdmin must be used within an AdminProvider");return e},i=e=>{let{children:t}=e,[a,n]=(0,s.useState)(null),[i,d]=(0,s.useState)(!0),c=async()=>{try{let e=await fetch("/api/admin/profile/",{credentials:"include",signal:AbortSignal.timeout(3e3)});if(e.ok){let t=await e.json();n(t.user)}else n(null)}catch(e){n(null)}finally{d(!1)}},h=async()=>{try{await fetch("/api/admin/logout/",{method:"POST",credentials:"include",signal:AbortSignal.timeout(3e3)})}catch(e){}finally{n(null)}};return(0,s.useEffect)(()=>{c()},[]),(0,l.jsx)(r.Provider,{value:{user:a,isAuthenticated:!!a,isLoading:i,login:e=>{n(e)},logout:h,checkAuth:c},children:t})}},2196:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(1847).A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},2229:(e,t,a)=>{Promise.resolve().then(a.bind(a,8819))},5229:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(1847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6617:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(1847).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},8819:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>A});var l=a(5155),s=a(63),r=a(2115),n=a(1091),i=a(2619),d=a.n(i),c=a(1847);let h=(0,c.A)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var o=a(6617);let u=(0,c.A)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);var m=a(2196);let x=(0,c.A)("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),p=(0,c.A)("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),y=(0,c.A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var f=a(5229),v=a(508);let b=(0,c.A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var g=a(9540);let k=(0,c.A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),j=(0,c.A)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),w=e=>{var t,a,i;let{children:c}=e,[w,A]=(0,r.useState)(!1),{user:N,logout:M}=(0,n.z)(),z=(0,s.usePathname)(),C=(0,s.useRouter)(),P=[{id:"dashboard",label:"Dashboard",icon:h,path:"/admin/dashboard"},{id:"products",label:"Products",icon:o.A,path:"/admin/products"},{id:"categories",label:"Categories",icon:u,path:"/admin/categories"},{id:"gallery",label:"Gallery",icon:m.A,path:"/admin/gallery"},{id:"contacts",label:"Contact Messages",icon:x,path:"/admin/contacts"},{id:"orders",label:"Custom Requests",icon:p,path:"/admin/orders"},{id:"settings",label:"Settings",icon:y,path:"/admin/settings"}],V=async()=>{await M(),C.push("/admin/login")};return(0,l.jsxs)("div",{className:"flex h-screen bg-neutral-100",children:[(0,l.jsxs)("div",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-neutral-900 text-white transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ".concat(w?"translate-x-0":"-translate-x-full"),children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-neutral-700",children:[(0,l.jsx)(d(),{href:"/admin/dashboard",className:"text-2xl font-serif font-bold",children:"Furniture Admin"}),(0,l.jsx)("button",{onClick:()=>A(!1),className:"lg:hidden p-2 rounded-lg hover:bg-neutral-800",children:(0,l.jsx)(f.A,{size:20})})]}),(0,l.jsx)("nav",{className:"mt-6",children:P.map(e=>{let t=e.icon,a=z===e.path;return(0,l.jsxs)(d(),{href:e.path,onClick:()=>A(!1),className:"flex items-center px-6 py-3 text-left hover:bg-neutral-800 transition-colors duration-200 ".concat(a?"bg-primary-600 hover:bg-primary-700 border-r-4 border-primary-400":""),children:[(0,l.jsx)(t,{className:"w-5 h-5 mr-3"}),e.label]},e.id)})}),(0,l.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-6 border-t border-neutral-700",children:[(0,l.jsxs)("div",{className:"flex items-center mb-4",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-primary-600 rounded-full flex items-center justify-center",children:(0,l.jsx)(v.A,{className:"w-5 h-5"})}),(0,l.jsxs)("div",{className:"ml-3",children:[(0,l.jsx)("p",{className:"font-medium",children:(null==N?void 0:N.first_name)||(null==N?void 0:N.username)}),(0,l.jsx)("p",{className:"text-sm text-neutral-400",children:null==N?void 0:N.email})]})]}),(0,l.jsxs)("button",{onClick:V,className:"w-full flex items-center px-3 py-2 text-neutral-300 hover:text-white hover:bg-neutral-800 rounded-lg transition-colors duration-200",children:[(0,l.jsx)(b,{className:"w-5 h-5 mr-3"}),"Logout"]})]})]}),(0,l.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,l.jsxs)("header",{className:"bg-white shadow-sm border-b border-neutral-200 px-6 py-4 flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("button",{onClick:()=>A(!0),className:"lg:hidden p-2 rounded-lg hover:bg-neutral-100 mr-4",children:(0,l.jsx)(g.A,{size:20})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-xl font-semibold text-neutral-900",children:(null==(t=P.find(e=>z===e.path))?void 0:t.label)||"Dashboard"}),(0,l.jsx)("p",{className:"text-sm text-neutral-600",children:"Manage your furniture store"})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)(d(),{href:"/",target:"_blank",className:"flex items-center px-3 py-2 text-sm text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 rounded-lg transition-colors duration-200",children:[(0,l.jsx)(k,{className:"w-4 h-4 mr-2"}),"View Store"]}),(0,l.jsxs)("button",{className:"p-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 rounded-lg transition-colors duration-200 relative",children:[(0,l.jsx)(j,{className:"w-5 h-5"}),(0,l.jsx)("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]}),(0,l.jsx)("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-white text-sm font-medium",children:(null==N||null==(a=N.first_name)?void 0:a.charAt(0))||(null==N||null==(i=N.username)?void 0:i.charAt(0))||"A"})})]})]}),(0,l.jsx)("main",{className:"flex-1 overflow-y-auto p-6",children:c})]}),w&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>A(!1)})]})};function A(e){let{children:t}=e,a=(0,s.usePathname)(),i=(0,s.useRouter)(),{isAuthenticated:d}=(0,n.z)();return((0,r.useEffect)(()=>{d||"/admin/login"===a||i.push("/admin/login")},[d,a,i]),"/admin/login"===a)?(0,l.jsx)(l.Fragment,{children:t}):d?(0,l.jsx)(w,{children:t}):null}},9540:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(1847).A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]])}},e=>{e.O(0,[297,441,255,358],()=>e(e.s=2229)),_N_E=e.O()}]);