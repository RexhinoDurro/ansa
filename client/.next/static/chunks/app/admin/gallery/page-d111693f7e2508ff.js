(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[831],{1010:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(1847).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},1360:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(1847).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},1786:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(1847).A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},1847:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});var s=t(2115);let a=e=>{let r=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase());return r.charAt(0).toUpperCase()+r.slice(1)},l=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,s.forwardRef)((e,r)=>{let{color:t="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:o="",children:d,iconNode:m,...x}=e;return(0,s.createElement)("svg",{ref:r,...c,width:a,height:a,stroke:t,strokeWidth:n?24*Number(i)/Number(a):i,className:l("lucide",o),...!d&&!(e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0})(x)&&{"aria-hidden":"true"},...x},[...m.map(e=>{let[r,t]=e;return(0,s.createElement)(r,t)}),...Array.isArray(d)?d:[d]])}),n=(e,r)=>{let t=(0,s.forwardRef)((t,c)=>{let{className:n,...o}=t;return(0,s.createElement)(i,{ref:c,iconNode:r,className:l("lucide-".concat(a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),n),...o})});return t.displayName=a(e),t}},2196:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(1847).A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},2198:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(1847).A)("folder-plus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]])},4033:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(1847).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},5229:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(1847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6191:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(1847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},7828:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(1847).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7937:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(1847).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},8201:(e,r,t)=>{Promise.resolve().then(t.bind(t,9768))},9768:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>y});var s=t(5155),a=t(2115),l=t(5229),c=t(1786),i=t(2198),n=t(6191),o=t(9847),d=t(2196),m=t(7828),x=t(4033),u=t(7937),g=t(1010),h=t(1360);let p=e=>{let{isOpen:r,onClose:t,category:c,onSuccess:i}=e,[n,o]=(0,a.useState)(!1),[d,m]=(0,a.useState)(null),[x,u]=(0,a.useState)({name:"",description:"",is_active:!0,sort_order:0}),[g,h]=(0,a.useState)(null);(0,a.useEffect)(()=>{c?u({name:c.name,description:c.description,is_active:c.is_active,sort_order:c.sort_order}):u({name:"",description:"",is_active:!0,sort_order:0}),h(null),m(null)},[c,r]);let p=async e=>{e.preventDefault(),o(!0),m(null);try{let e=new FormData;Object.entries(x).forEach(r=>{let[t,s]=r;e.append(t,s.toString())}),g&&e.append("cover_image",g);let r=c?"/api/admin/gallery-categories/".concat(c.id,"/"):"/api/admin/gallery-categories/",s=c?"PATCH":"POST",a=await fetch(r,{method:s,credentials:"include",body:e});if(a.ok)i(),t(),alert(c?"Category updated successfully!":"Category created successfully!");else{let e=await a.json();m(e.error||"Error saving category")}}catch(e){console.error("Error:",e),m("Network error. Please try again.")}finally{o(!1)}},b=e=>{let{name:r,value:t,type:s}=e.target,a=e.target.checked;u(e=>({...e,[r]:"checkbox"===s?a:t}))};return r?(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:c?"Edit Category":"Add New Category"}),(0,s.jsx)("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:(0,s.jsx)(l.A,{className:"w-5 h-5"})})]})}),(0,s.jsxs)("form",{onSubmit:p,className:"p-6",children:[d&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,s.jsx)("p",{className:"text-red-800",children:d})}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name *"}),(0,s.jsx)("input",{type:"text",name:"name",value:x.name,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Living Room, Bedroom, Kitchen",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,s.jsx)("textarea",{name:"description",value:x.description,onChange:b,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of this category..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover Image"}),(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var r;return h((null==(r=e.target.files)?void 0:r[0])||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(null==c?void 0:c.cover_image)&&(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("img",{src:c.cover_image,alt:"Current cover",className:"w-20 h-20 object-cover rounded-lg"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort Order"}),(0,s.jsx)("input",{type:"number",name:"sort_order",value:x.sort_order,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",name:"is_active",id:"is_active",checked:x.is_active,onChange:b,className:"mr-3 rounded"}),(0,s.jsx)("label",{htmlFor:"is_active",className:"text-sm text-gray-700",children:"Active (visible to customers)"})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-4 mt-8 pt-6 border-t border-gray-200",children:[(0,s.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:n,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white font-semibold px-6 py-2 rounded-lg transition-colors duration-200",children:n?"Saving...":c?"Update Category":"Create Category"})]})]})]})}):null},b=e=>{let{isOpen:r,onClose:t,project:i,categories:n,onSuccess:o}=e,[d,m]=(0,a.useState)(!1),[x,u]=(0,a.useState)(null),[g,h]=(0,a.useState)({gallery_category:"",title:"",description:"",client_name:"",project_date:"",location:"",materials_used:"",dimensions:"",price_range:"",featured:!1,is_active:!0,sort_order:0}),[p,b]=(0,a.useState)([]),[y,j]=(0,a.useState)([]);(0,a.useEffect)(()=>{i?h({gallery_category:i.gallery_category,title:i.title,description:i.description,client_name:i.client_name,project_date:i.project_date,location:i.location,materials_used:i.materials_used,dimensions:i.dimensions,price_range:i.price_range,featured:i.featured,is_active:i.is_active,sort_order:i.sort_order}):h({gallery_category:"",title:"",description:"",client_name:"",project_date:"",location:"",materials_used:"",dimensions:"",price_range:"",featured:!1,is_active:!0,sort_order:0}),b([]),j([]),u(null)},[i,r]);let f=async e=>{e.preventDefault(),m(!0),u(null);try{let e=new FormData;Object.entries(g).forEach(r=>{let[t,s]=r;""!==s&&null!=s&&e.append(t,s.toString())}),p.forEach(r=>{e.append("images",r)});let r=i?"/api/admin/gallery-projects/".concat(i.id,"/"):"/api/admin/gallery-projects/",s=i?"PATCH":"POST",a=await fetch(r,{method:s,credentials:"include",body:e});if(a.ok)o(),t(),alert(i?"Project updated successfully!":"Project created successfully!");else{let e=await a.json();u(e.error||"Error saving project")}}catch(e){console.error("Error:",e),u("Network error. Please try again.")}finally{m(!1)}},v=e=>{let{name:r,value:t,type:s}=e.target,a=e.target.checked;h(e=>({...e,[r]:"checkbox"===s?a:t}))};return r?(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:i?"Edit Project":"Add New Project"}),(0,s.jsx)("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:(0,s.jsx)(l.A,{className:"w-5 h-5"})})]})}),(0,s.jsxs)("form",{onSubmit:f,className:"p-6",children:[x&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,s.jsx)("p",{className:"text-red-800",children:x})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),(0,s.jsxs)("select",{name:"gallery_category",value:g.gallery_category,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select Category"}),n.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Title *"}),(0,s.jsx)("input",{type:"text",name:"title",value:g.title,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Red Pattern Sofa, Modern Coffee Table",required:!0})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,s.jsx)("textarea",{name:"description",value:g.description,onChange:v,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe the project details..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Name"}),(0,s.jsx)("input",{type:"text",name:"client_name",value:g.client_name,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Client name (optional)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Date"}),(0,s.jsx)("input",{type:"date",name:"project_date",value:g.project_date,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),(0,s.jsx)("input",{type:"text",name:"location",value:g.location,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Project location"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Materials Used"}),(0,s.jsx)("input",{type:"text",name:"materials_used",value:g.materials_used,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Oak wood, Velvet fabric"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dimensions"}),(0,s.jsx)("input",{type:"text",name:"dimensions",value:g.dimensions,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 200cm x 80cm x 75cm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),(0,s.jsxs)("select",{name:"price_range",value:g.price_range,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,s.jsx)("option",{value:"",children:"Select price range"}),(0,s.jsx)("option",{value:"under-1000",children:"Under €1,000"}),(0,s.jsx)("option",{value:"1000-5000",children:"€1,000 - €5,000"}),(0,s.jsx)("option",{value:"5000-10000",children:"€5,000 - €10,000"}),(0,s.jsx)("option",{value:"10000-25000",children:"€10,000 - €25,000"}),(0,s.jsx)("option",{value:"over-25000",children:"Over €25,000"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort Order"}),(0,s.jsx)("input",{type:"number",name:"sort_order",value:g.sort_order,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0"})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Project Images"}),(0,s.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:[(0,s.jsx)("input",{type:"file",multiple:!0,accept:"image/*",onChange:e=>{let r=Array.from(e.target.files||[]);b(r),j(r.map(e=>URL.createObjectURL(e)))},className:"hidden",id:"image-upload"}),(0,s.jsxs)("label",{htmlFor:"image-upload",className:"cursor-pointer flex flex-col items-center",children:[(0,s.jsx)(c.A,{className:"w-12 h-12 text-gray-400 mb-4"}),(0,s.jsxs)("p",{className:"text-gray-600 text-center",children:["Click to upload images or drag and drop",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"PNG, JPG, GIF up to 10MB each"})]})]})]}),y.length>0&&(0,s.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-4 mt-4",children:y.map((e,r)=>(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:e,alt:"Preview ".concat(r+1),className:"w-full h-20 object-cover rounded-lg"}),(0,s.jsx)("button",{type:"button",onClick:()=>(e=>{let r=p.filter((r,t)=>t!==e),t=y.filter((r,t)=>t!==e);b(r),j(t)})(r),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600",children:(0,s.jsx)(l.A,{className:"w-3 h-3"})})]},r))})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",name:"featured",checked:g.featured,onChange:v,className:"mr-2 rounded"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:"Featured Project"})]}),(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",name:"is_active",checked:g.is_active,onChange:v,className:"mr-2 rounded"}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:"Active (visible to customers)"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-4 mt-8 pt-6 border-t border-gray-200",children:[(0,s.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:d||0===n.length,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white font-semibold px-6 py-2 rounded-lg transition-colors duration-200",children:d?"Saving...":i?"Update Project":"Create Project"})]})]})]})}):null},y=()=>{let[e,r]=(0,a.useState)([]),[t,l]=(0,a.useState)([]),[c,y]=(0,a.useState)(!1),[j,f]=(0,a.useState)(!1),[v,N]=(0,a.useState)(null),[w,k]=(0,a.useState)(null),[_,C]=(0,a.useState)(new Set),[]=(0,a.useState)(!1),[A,S]=(0,a.useState)(null);(0,a.useEffect)(()=>{E(),P()},[]);let E=async()=>{try{let e=await fetch("/api/admin/gallery-categories/",{credentials:"include",headers:{"Content-Type":"application/json"}});if(e.ok){let t=await e.json();r(t.results||t||[])}else throw Error("Failed to fetch categories")}catch(e){console.error("Error fetching categories:",e),S("Failed to load categories"),r([])}},P=async()=>{try{let e=await fetch("/api/admin/gallery-projects/",{credentials:"include",headers:{"Content-Type":"application/json"}});if(e.ok){let r=await e.json();l(r.results||r||[])}else throw Error("Failed to fetch projects")}catch(e){console.error("Error fetching projects:",e),S("Failed to load projects"),l([])}},M=async(e,r)=>{if(confirm('Are you sure you want to delete "'.concat(r,'"? This will also delete all projects in this category.')))try{(await fetch("/api/admin/gallery-categories/".concat(e,"/"),{method:"DELETE",credentials:"include"})).ok?(await E(),await P(),alert("Category deleted successfully!")):alert("Error deleting category.")}catch(e){console.error("Error:",e),alert("Network error. Please try again.")}},L=async(e,r)=>{if(confirm('Are you sure you want to delete "'.concat(r,'"?')))try{(await fetch("/api/admin/gallery-projects/".concat(e,"/"),{method:"DELETE",credentials:"include"})).ok?(await P(),await E(),alert("Project deleted successfully!")):alert("Error deleting project.")}catch(e){console.error("Error:",e),alert("Network error. Please try again.")}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Gallery Management"}),(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage gallery categories and project showcases"})]}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsxs)("button",{onClick:()=>y(!0),className:"flex items-center bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:[(0,s.jsx)(i.A,{className:"w-4 h-4 mr-2"}),"Add Category"]}),(0,s.jsxs)("button",{onClick:()=>f(!0),className:"flex items-center bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:[(0,s.jsx)(n.A,{className:"w-4 h-4 mr-2"}),"Add Project"]})]})]}),A&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,s.jsx)("p",{className:"text-red-800",children:A})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,s.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"bg-blue-50 p-3 rounded-lg",children:(0,s.jsx)(o.A,{className:"w-6 h-6 text-blue-600"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Total Categories"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"bg-green-50 p-3 rounded-lg",children:(0,s.jsx)(i.A,{className:"w-6 h-6 text-green-600"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Total Projects"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.length})]})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"bg-purple-50 p-3 rounded-lg",children:(0,s.jsx)(d.A,{className:"w-6 h-6 text-purple-600"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Total Images"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.reduce((e,r)=>e+r.image_count,0)})]})]})}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"bg-orange-50 p-3 rounded-lg",children:(0,s.jsx)(m.A,{className:"w-6 h-6 text-orange-600"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Featured Projects"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(e=>e.featured).length})]})]})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Gallery Structure"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Click categories to expand/collapse and see their projects"})]}),e.length>0?(0,s.jsx)("div",{children:e.map(e=>{let r,a=(r=e.id,t.filter(e=>e.gallery_category===r)),l=_.has(e.id);return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 hover:bg-gray-50",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("button",{onClick:()=>(e=>{let r=new Set(_);r.has(e)?r.delete(e):r.add(e),C(r)})(e.id),className:"p-1 hover:bg-gray-200 rounded",children:l?(0,s.jsx)(x.A,{className:"w-4 h-4 text-gray-600"}):(0,s.jsx)(u.A,{className:"w-4 h-4 text-gray-600"})}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(o.A,{className:"w-5 h-5 text-blue-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[a.length," projects • ",e.total_images," images",e.description&&" • ".concat(e.description.substring(0,50)).concat(e.description.length>50?"...":"")]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"Active":"Inactive"}),(0,s.jsx)("button",{onClick:()=>{N(e),y(!0)},className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors duration-200",children:(0,s.jsx)(g.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>M(e.id,e.name),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",children:(0,s.jsx)(h.A,{className:"w-4 h-4"})})]})]}),l&&(0,s.jsx)("div",{className:"bg-gray-50",children:a.length>0?a.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 ml-8 border-b border-gray-200 last:border-b-0",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(d.A,{className:"w-4 h-4 text-gray-400"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium text-gray-900",children:e.title}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[e.image_count," images",e.client_name&&" • Client: ".concat(e.client_name),e.project_date&&" • ".concat(new Date(e.project_date).toLocaleDateString())]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[e.featured&&(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Featured"}),(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"Active":"Inactive"}),(0,s.jsx)("button",{onClick:()=>{k(e),f(!0)},className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors duration-200",children:(0,s.jsx)(g.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>L(e.id,e.title),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",children:(0,s.jsx)(h.A,{className:"w-4 h-4"})})]})]},e.id)):(0,s.jsxs)("div",{className:"p-8 text-center text-gray-500 ml-8",children:[(0,s.jsx)(d.A,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,s.jsx)("p",{className:"text-sm",children:"No projects in this category yet"}),(0,s.jsx)("button",{onClick:()=>f(!0),className:"mt-2 text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Add first project"})]})})]},e.id)})}):(0,s.jsxs)("div",{className:"p-8 text-center",children:[(0,s.jsx)(o.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No categories yet"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"Start by creating your first gallery category to organize your projects."}),(0,s.jsx)("button",{onClick:()=>y(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:"Create First Category"})]})]}),(0,s.jsx)(p,{isOpen:c,onClose:()=>{y(!1),N(null)},category:v,onSuccess:()=>{E(),P()}}),(0,s.jsx)(b,{isOpen:j,onClose:()=>{f(!1),k(null)},project:w,categories:e.filter(e=>e.is_active),onSuccess:()=>{P(),E()}})]})}},9847:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(1847).A)("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]])}},e=>{e.O(0,[441,255,358],()=>e(e.s=8201)),_N_E=e.O()}]);